<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Two Wonders</title>
    <link rel="stylesheet" href="../css/projects/styletwowonders.css">
</head>
<body>
    <header class="navbar">
        <nav>
            <div class="menu-icon" id="menu-icon">
                <!-- Este Ã­cono de hamburguesa -->
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul id="menu">
                <li><a href="../index.html">Home</a></li>
                <li><a href="#skills">Skills</a></li>
                <li><a href="#projects">Portfolio</a></li>
                <li><a href="assets/CV_JoseManuel.pdf">CV</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>
    <section id="presentation">
        <h1>Two Wonders</h1>
        <p>Two Wonders is a 3D action-adventure game with an isometric view, inspired by games like Tunic or The Legend of Zelda, where exploration is key element. The game combines strategic puzzle-solving with elemental combat, where players must use different elemental abilities to defeat enemies, each possessing unique elemental strengths and weaknesses.</p>
        <p>The game was entirely developed from scratch in C++, including both the game itself and the underlying technology.</p>
        <div id="gameplay">
            <iframe width="700" height="400" src="https://www.youtube.com/embed/SLrBhVI0wS0"
                                 frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                  allowfullscreen>
            </iframe>
        </div>
        <div class="social-icons">
            <a href="https://kaiwagames.itch.io/two-wonders" class="social-icon"><img src="../assets/itch-io-brands-solid.svg" alt="Itch.io"></a>
            <a href="https://www.youtube.com/channel/UC5nW2ZDVgzqtlS4zwy0j98g" class="social-icon"><img src="../assets/youtube_icon.png" alt="YouTube"></a>
            <a href="https://www.instagram.com/kaiwagames/" class="social-icon"><img src="../assets/logoinsta_2.png" alt="Instagram"></a>
        </div>
    </section>
    <section id="contributions">
        <span>Primary Role: AI programmer</span>
        <h1>My Contributions</h1>
        <div id="ecs" class="contribution">
            <h2>Entity-Component-System(ECS)</h2>
            <p>ECS is an architecture that separates entities into components (data) and systems (logic). 
                Entities are just containers, components define characteristics, and systems process the logic. 
                This allows for greater flexibility and optimization in managing game objects.
            </p>
            <p>I worked on the implementation of the ECS, specifically in the construction of SlotMap matrix structure that would allow
                us to store the data of the components that each entity could have in binary key system.
                Then, we implement entity manager which contains functions related to the managment of entities like their Creation, addition of components or tags
                and their destruction.
            </p>
            <!-- <img> esquema basico del ECS-->
             <div class="imgs">
                <img src="../assets/ECS-diagram.png" width="800px" height="800px">
             </div>
        </div>
        <div class="contribution">
            <h2>Zelda Model</h2>
            <p>Our game is based on the model of The legend of Zelda. For this reason, we start by implementing its basics mechanics such as collecting objects, sword attack, shield, open doors among others.</p>
            <p>My job here was to implement the basic Zelda enemies such as the Keese (random movement), Octorok (random movement and shooting),AquaMentus (fires 3 projectiles) or RiverZora (change position and shoot towards the player)</p>
            <div class="imgs">
                <img src="../assets/modelozelda1.png" width="390px" height="300px">
                <img src="../assets/modelozelda2.png" width="400px" height="300px">
            </div>
        </div>
        <div id="aiengine"  class="contribution">
            <h2>AI Engine</h2>
            <p>I developed an AI engine from scratch in c++ which would be in charge of processing different entities
                 such as enemies or npcs and giving them behaviors according to their previous design. </p>
            <p>The technologies that make up this engine have been developed following these steps: design, implementation and testing/fixing alternatively.</p>
            <img src="../assets/AIEngine_diagram.png" width="700px" width="500px">
            <div class="tecnologia">
                <div class="tecnologia-title">
                    <h3>AI Component</h3>
                    <button class="color-identifier-buttom" id="ai-component" dis></button>
                </div>
                <p>This component define characteristics about AI entities.Between them, we can find fisics aspects(velocity, aceleration or position) , 
                    flags to know what alert states are active or if it detect player, radius(detection,attack,arrival), path, behaviour tree instance, perception aspects(field of view,distance to listen) and timers to
                    manage spawning,couldowns, heal among others.
                </p>
            </div>
            <div class="tecnologia">
                <div class="tecnologia-title">
                    <h3>AI Manager</h3>
                    <button class="color-identifier-buttom" id="ent_manager" dis></button>
                </div>
                <p>This manager is responsible for generating entity AIs using the data provided in a JSON file.First, it 
                    extracts information such us position, rotation, scale, type, combat characteristics and more.
                Then, create a specific behaviour tree for each enemy type, assign the necessary components and tags.</p>
            </div>
            <div class="tecnologia">
                <div class="tecnologia-title">
                    <h3>AI System</h3>
                    <button class="color-identifier-buttom" id="ai-system" dis></button>
                </div>
                <p>This system update the perception and behavior of enemy entities in the game, detecting the player and updating a shared "BlackBoard" with relevant information such as positions, life states and potential targets. Additionally, it runs behavior trees for each entity based on its state, provides data for visual debugging (such as vision cones), and ensures consistency by removing outdated information from non-relevant enemies.</p>
            </div>
            <div class="tecnologia">
                <div class="tecnologia-title">
                    <h3>Behaviour Trees</h3>
                    <button class="color-identifier-buttom" id="ai-bts" dis></button>
                </div>
                <p>Structure used in AI to model the behaviour of entities whose main function is organize and execute tasks or actions in a 
                    hierarchical and modular way.
                </p>
                <p>At a tecnical level, behaviour tree class it's responsible for the creation of the nodes controlling and managing the reserved memory space, as well as,
                    their correct execution and node class contains virtual run functions tha all nodes implement, differentes states that result from
                    the execution and the context(references to components or managers).
                    From the latter, the selector, sequence and decision node is created.
                </p>
                <p>My work hear consist in design the bt diagram from each enemy,create all necessary nodes(conditions and actions) and after create the structure in AI manager. Finally, I test the enemies in
                    a level called "Gym" with obstacles and targets help myself with debuggers and in-game editor.
                </p>
                <div class="imgs-col">
                    <img src="../assets/spider_bt_diagram.png" width="600px" height="250px">
                    <img src="../assets/gym_ia_1.png" width="600px" height="350px">
                </div>
            </div>
            <div class="tecnologia">
                <div class="tecnologia-title">
                    <h3>Blackboard</h3>
                    <button class="color-identifier-buttom" id="ai-bb" dis></button>
                </div>
                <p>Is a shared data container to manage communication and coordination between different AIs.It is used by behaviour tree and updated by AI system.</p>
                <p>In my case I used it to communicate slime and boss type AIs which had to know their life, active action, alertness among them. It also contains data on the spawn position, direction and vision cones.</p>
            </div>
            <div class="tecnologia">
                <div class="tecnologia-title">
                    <h3>Steering Behaviours</h3>
                    <button class="color-identifier-buttom" id="ai-sb" dis></button>
                </div>
                <p>These behaviors allow agents to move realistically through the environment, adjusting their direction and speed in real time based on their objectives and environmental conditions.</p>
                <p>In Two Wonders I implement the following types of movement: Seek, Arrive, Flee, Pursue, Avoid, Evade and Flocking. All of these return a Steer_t structure, which contains information about the agent's speed, orientation, and whether it has arrived.</p>
            </div>
            <div class="tecnologia">
                <div class="tecnologia-title">
                    <h3>Pathfinding</h3>
                    <button class="color-identifier-buttom" id="ai-pathf" dis></button>
                </div>
                <p>It is a method used for agents to find the most optimal path between two points. In our case, we use
                     it to make enemies move towards the player at long distances and so they can return to their patrol
                      position after a chase. In both cases the origin will be the current position of this.
                </p>
                <p>To determine the navigable areas for the AIs, we have created a system of navigation meshes that are placed on the level model and through a script we obtain the vertices, centers and orthocenters for each one compiled in a json file. Then, our maps is responsible for importing all this information into a singleton called navmesh_info and 
                    creates the NavMesh entities that will be used for later debugging.
                </p>
                <p>Finally, the A* algorithm has been implemented that uses the Euclidean distance as a heuristic. This method works with directed weighted graphs, so a Graph class has been created that is responsible for creating the nodes and connections from the navigation meshes. 
                </p>
                <div class="imgs-col">
                    <img src="../assets/navmeshes_structure.jpg" width="600px" height="350px">
                    <img src="../assets/navmeshes_debug.png" width="600px" height="350px">
                </div>
            </div>
            <div class="tecnologia">
                <div class="tecnologia-title">
                    <h3>Sensorial Perception</h3>
                    <button class="color-identifier-buttom" id="ai-sp" dis></button>
                </div>
                <p>Two Wonders uses a vision-based perception system that uses a cone as a field of vision which emerges
                     from the head towards where the agent is facing and has a ray system for obstacle detection. 
                     In addition, it has perception by ear through alert radios that determine the volume of the 
                     sound that the agent can capture and the minimum time to detect you.
                </p>
                <p>Both have iconography to show feedback to the player about when and how they detect it.</p>
                <div class="imgs-col">
                    <img src="../assets/view_percepction.png" width="600px" height="350px">
                    <img src="../assets/hear_perception.png" width="600px" height="350px">
                </div>
            </div>
        </div>
        <div id="animation engine">
        </div>
        <div id="Eventmanager/triggersystem"></div>
        <div id="level design"></div>
    </section>
</body>
</html>